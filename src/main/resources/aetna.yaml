a:
  operation: wait
  selector: id
  name: demographic_input
b:
  operation: keys
  selector: id
  name: demographic_input
  value: 19067
c:
  operation: wait
  selector: xpath
  name: //*[@id="helpful-tools-container"]/div[1]/div/vnext-zip-code-input/div[2]/div[2]/div/div
d:
  operation: click
  selector: id
  name: helpfultools_zip_button
e:
  operation: wait
  selector: xpath
  name: "//vnext-filter-tab[2]/div"
f:
  operation: jsclick
  selector: xpath
  name: "//vnext-filter-tab[2]/div"
g:
  operation: click
  selector: xpath
  name: //*[@id="helpful-tools-container"]/div
h:
  operation: wait
  selector: xpath
  name: "//vnext-liveedit-container/input"
i:
  operation: keys
  selector: xpath
  name: "//vnext-liveedit-container/input"
  value: __token__
j:
  operation: loadpage
k:
  operation: try
  expect:
    - TimeoutException
  try:
    - operation: if
      selector: xpath
      name: //*[@id="ngb-typeahead-0"]
      condition:
        - class
        - contains
        - "dropdown-menu show"
      then:
        - operation: wait
          selector: xpath
          name: //*[@id="ngb-typeahead-0"]//*
        - operation: captureList
          selector: xpath
          name: "//ngb-highlight"
          type: text
          variable: druglist
        - operation: loop
          type: variable
          variable: druglist
          subscript: listSearch
  catch:
    - operation: injectContent
      type: html
      name: Not Found
subscripts:
  listSearch:
    a:
      operation: wait
      selector: xpath
      name: "//vnext-liveedit-container/input"
    b:
      operation: keys
      selector: xpath
      name: "//vnext-liveedit-container/input"
      value: "{druglist}"
    c:
      operation: wait
      selector: xpath
      name: //*[@class="ngb-highlight"]
    d:
      operation: click
      selector: xpath
      name: //ngb-typeahead-window/button/ngb-highlight/span[@class="ngb-highlight"]/../..
    e:
      operation: wait
      selector: xpath
      name: //*[@class="btn Spa_Style_PrimaryButton"]
    f:
      operation: wait
      selector: xpath
      name: //*[@aria-labelledby="dosageHeaderId"]/*
    h:
      operation: captureList
      selector: xpath
      name: //*[@aria-labelledby="dosageHeaderId"]/*
      variable: dosagelabels
    i:
      operation: loop
      type: variable
      variable: dosagelabels
      subscript: searchSubScript
    j:
      operation: loop
      type: variable
      variable: dosagelabels
      subscript: genericSearch
      exitOnError: 'false'
  searchSubScript:
    1:
      operation: wait
      selector: xpath
      name: //*[@class="drug-details-container row mb-2"]
    2:
      operation: click
      selector: xpath
      name: "//*{dosagelabels}"
      variable: true
    5:
      operation: click
      selector: xpath
      name: //*[@class="btn Spa_Style_PrimaryButton"]
    6:
      operation: wait
      selector: xpath
      name: //*[@class="drug-details-container row mb-2"]
    7:
      operation: wait
      selector: xpath
      name: //*[@class="mt-2"]
    8:
      operation: snapshot
    9:
      operation: click
      selector: xpath
      name: "//vnext-drug-details//vnext-link"
  genericSearch:
    1:
      operation: wait
      selector: xpath
      name: //*[@class="drug-details-container row mb-2"]
    2:
      operation: click
      selector: xpath
      name: //*[@aria-label="{variable}"]
      variable: true
    3:
      operation: wait
      selector: xpath
      name: //*[@id="generic-option-1"]
      timeout: 10
    4:
      operation: click
      selector: xpath
      name: //*[@id="generic-option-1"]
    5:
      operation: click
      selector: xpath
      name: //*[@class="btn Spa_Style_PrimaryButton"]
    6:
      operation: wait
      selector: xpathC
      name: //*[@class="drug-details-container row mb-2"]
    7:
      operation: wait
      selector: xpath
      name: //*[@class="mt-2"]
    8:
      operation: snapshot
    9:
      operation: click
      selector: xpath
      name: "//vnext-drug-details//vnext-link"
